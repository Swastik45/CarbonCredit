<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Business Dashboard - Purchase carbon credits to offset your emissions">
    <title>Business Dashboard - Carbon Credit Marketplace</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" 
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
          crossorigin="anonymous" />
</head>
<body>
    <header>
        <nav>
            <h1>üè¢ Business Dashboard</h1>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="ndvi_guide.html">NDVI Guide</a>
                <button id="logout">Logout</button>
            </div>
            <button class="mobile-menu-btn" aria-label="Toggle mobile menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </nav>
    </header>
    <main>
        <section id="purchased-credits">
            <h2>Your Purchased Credits</h2>
            <div class="credits-display">
                <span id="purchased-amount">0</span> Credits
            </div>
            <p style="text-align: center; color: var(--text-secondary); margin-top: 0.5rem;">
                Total carbon credits purchased to offset your emissions
            </p>
        </section>
        
        <section id="ndvi-info" class="info-section">
            <h2>üå± Understanding Carbon Credits & NDVI</h2>
            <div class="ndvi-content">
                <div class="ndvi-explanation">
                    <h3>How Carbon Credits Work</h3>
                    <p>Carbon credits are tradable certificates representing the right to emit one tonne of CO‚ÇÇ or an equivalent amount of other greenhouse gases. Each credit you purchase funds verified carbon sequestration projects.</p>
                    
                    <h3>NDVI Verification</h3>
                    <p>Our platform uses <strong>Normalized Difference Vegetation Index (NDVI)</strong> to scientifically verify plantation health and carbon sequestration capacity. NDVI measures vegetation density using satellite imagery:</p>
                    
                    <div class="formula-box">
                        <code>NDVI = (NIR - RED) / (NIR + RED)</code>
                    </div>
                    
                    <p><strong>Higher NDVI values</strong> indicate healthier, more productive vegetation that sequesters more CO‚ÇÇ through photosynthesis.</p>
                    
                    <h3>Quality Assurance</h3>
                    <ul>
                        <li><strong>Satellite Monitoring</strong>: Regular NDVI measurements using Sentinel-2 and Landsat satellites</li>
                        <li><strong>Third-party Verification</strong>: Independent audits ensure credit integrity</li>
                        <li><strong>Blockchain Tracking</strong>: Immutable record of credit transactions</li>
                        <li><strong>IPCC Standards</strong>: Compliant with international carbon accounting guidelines</li>
                    </ul>
                    
                    <div class="methodology-note">
                        <h4>üìä Credit Calculation</h4>
                        <p>Credits are calculated based on:</p>
                        <ul>
                            <li>Verified plantation area √ó NDVI health score √ó sequestration rate √ó time</li>
                            <li>Regular satellite monitoring ensures ongoing verification</li>
                            <li>Credits issued quarterly for sustained sequestration</li>
                        </ul>
                    </div>
                </div>
                
                <div class="ndvi-visual">
                    <div class="ndvi-scale">
                        <h4>NDVI Health Scale</h4>
                        <div class="scale-bar">
                            <div class="scale-item" style="background: #8B0000;"><span>0.0</span></div>
                            <div class="scale-item" style="background: #FF4500;"><span>0.2</span></div>
                            <div class="scale-item" style="background: #FFFF00;"><span>0.4</span></div>
                            <div class="scale-item" style="background: #9ACD32;"><span>0.6</span></div>
                            <div class="scale-item" style="background: #228B22;"><span>0.7</span></div>
                            <div class="scale-item" style="background: #006400;"><span>0.9</span></div>
                        </div>
                        <p class="scale-labels">
                            <span>Poor</span>
                            <span>‚Üì</span>
                            <span>Fair</span>
                            <span>‚Üì</span>
                            <span>Good</span>
                            <span>‚Üì</span>
                            <span>Excellent</span>
                        </p>
                    </div>
                    
                    <div class="sources">
                        <h4>Standards & References</h4>
                        <ul class="reference-list">
                            <li><strong>IPCC (2006)</strong> - Carbon accounting guidelines</li>
                            <li><strong>ESA Sentinel-2</strong> - Satellite specifications</li>
                            <li><strong>VCS Standard</strong> - Voluntary carbon markets</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="available-plantations">
            <h2>Available Plantations</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">Browse verified plantations and purchase carbon credits</p>
            <div id="plantation-list" class="card-grid"></div>
            <div id="empty-plantations" class="empty-state hidden">
                <p>No verified plantations available at the moment. Check back later!</p>
            </div>
        </section>
        
        <section id="purchase-history">
            <h2>Purchase History</h2>
            <div id="purchase-list" class="card-grid"></div>
            <div id="empty-purchases" class="empty-state hidden">
                <p>No purchases yet. Start offsetting your carbon footprint today!</p>
            </div>
        </section>
        
        <section id="map">
            <h2>Map View</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">View all available plantations on the map</p>
            <div id="map-container"></div>
        </section>
    </main>
    
    <!-- Image Modal -->
    <div id="image-modal" class="image-modal">
        <span class="close">&times;</span>
        <img id="modal-image" src="" alt="Plantation Image">
    </div>
    
    <!-- Custom Modal -->
    <div id="custom-modal" class="custom-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Confirm Action</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p id="modal-message">Are you sure you want to proceed?</p>
            </div>
            <div class="modal-footer">
                <button id="modal-cancel" class="btn btn-secondary">Cancel</button>
                <button id="modal-confirm" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin="anonymous"></script>
    <script src="map.js"></script>
    <script src="app.js"></script>
    <script src="business.js"></script>
</body>
</html>
